(function(){"use strict";var t={6963:function(t,e,s){var a=s(8935),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("AppNav"),s("router-view")],1)},r=[],o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar bg-light"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/"}},[t._v("Главная")]),t.isAdmin?s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin"}},[t._v("Панель администратора")]):t._e(),t.isLoggedIn?s("router-link",{staticClass:"navbar-brand",attrs:{to:"/teacher"}},[t._v("Панель преподавателя")]):t._e(),t.isLoggedIn?s("span",[s("a",{on:{click:t.logout}},[t._v("Выйти")])]):s("router-link",{staticClass:"navbar-brand",attrs:{to:"/login"}},[t._v("Войти")])],1),s("span")])},i=[],u={name:"AppNav",computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn},isAdmin:function(){return this.$store.getters.isAdmin}},methods:{logout:function(){this.$store.dispatch("logout").then((()=>{this.$router.push("/login")}))}},created:function(){this.$http.interceptors.response.use(void 0,(function(t){return new Promise((function(e,s){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch("logout"),t}))}))}},l=u,d=s(1001),c=(0,d.Z)(l,o,i,!1,null,"aa1b831a",null),p=c.exports,m={components:{AppNav:p},computed:{isLoggedIn:function(){return this.$store.getters.isLoggedIn}},methods:{logout:function(){this.$store.dispatch("logout").then((()=>{this.$router.push("/login")}))}},created:function(){this.$http.interceptors.response.use(void 0,(function(t){return new Promise((function(e,s){throw 401===t.status&&t.config&&!t.config.__isRetryRequest&&this.$store.dispatch("logout"),t}))}))}},h=m,_=(0,d.Z)(h,n,r,!1,null,null,null),g=_.exports,v=s(4665),f=s(6166),b=s.n(f);a.Z.use(v.ZP);var y=new v.ZP.Store({state:{status:"",token:localStorage.getItem("token")||"",user:{},role:localStorage.getItem("role")||"",personality:localStorage.getItem("person")||null},mutations:{auth_request(t){t.status="loading"},auth_success(t,e,s,a,n){t.status="success",t.token=e,t.user=s,t.role=a,t.personality=n},auth_error(t){t.status="error"},logout(t){t.status="",t.token="",t.role="",t.personality=null}},actions:{login({commit:t},e){return new Promise(((s,a)=>{t("auth_request"),b()({url:"http://localhost:8081/login",data:e,method:"POST"}).then((e=>{const a=e.data.token,n=e.data.userDtoModel.personality;localStorage.setItem("personality",n);const r=e.data.userDtoModel,o=e.data.userDtoModel.roles;localStorage.setItem("role","ROLE_USER");for(let t of o)"ROLE_ADMIN"===t&&localStorage.setItem("role","ROLE_ADMIN");localStorage.setItem("token",a),b().defaults.headers.common.Authorization=a,t("auth_success",a,r),s(e)})).catch((e=>{t("auth_error"),localStorage.removeItem("token"),a(e)}))}))},logout({commit:t}){return new Promise(((e,s)=>{t("logout"),localStorage.removeItem("token"),localStorage.removeItem("role"),localStorage.removeItem("personality"),delete b().defaults.headers.common.Authorization,e()}))}},getters:{getPersonalityId:()=>localStorage.getItem("personality"),isAdmin:t=>"ROLE_ADMIN"===t.role,isLoggedIn:t=>!!t.token,authStatus:t=>t.status}}),S=s(2809),k=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},I=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("h4",[t._v("Главная страница системы ведения успеваемости и посещаемости учащихся")])])}],w={name:"HomeView"},j=w,A=(0,d.Z)(j,k,I,!1,null,"f9383d76",null),N=A.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{staticClass:"login",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[s("h1",[t._v("Авторизация")]),s("label",[t._v("Имя пользователя")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{required:"",type:"text",placeholder:"Логин"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("label",[t._v("Пароль")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{required:"",type:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("hr"),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Войти")])])])},x=[],P={name:"LoginPage",data(){return{username:"",password:""}},methods:{login:function(){let t=this.username,e=this.password;this.$store.dispatch("login",{username:t,password:e}).then((()=>this.$router.push("/"))).catch((t=>console.log(t)))}}},$=P,E=(0,d.Z)($,C,x,!1,null,"4d13c2c7",null),R=E.exports,B=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addUser.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.personalityId,expression:"personalityId"}],attrs:{type:"text",name:"username",placeholder:"ID личного дела"},domProps:{value:t.personalityId},on:{input:function(e){e.target.composing||(t.personalityId=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.usernameNew,expression:"usernameNew"}],attrs:{type:"text",name:"username",placeholder:"Логин"},domProps:{value:t.usernameNew},on:{input:function(e){e.target.composing||(t.usernameNew=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordNew,expression:"passwordNew"}],attrs:{type:"text",name:"password",placeholder:"Пароль"},domProps:{value:t.passwordNew},on:{input:function(e){e.target.composing||(t.passwordNew=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.roleNew,expression:"roleNew"}],attrs:{type:"text",name:"role",placeholder:"Роль"},domProps:{value:t.roleNew},on:{input:function(e){e.target.composing||(t.roleNew=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addUser",attrs:{type:"submit",value:"Создать пользователя"}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.findUsers.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.personality,expression:"personality"}],attrs:{type:"number",name:"personality",placeholder:"ID Личного дела"},domProps:{value:t.personality},on:{input:function(e){e.target.composing||(t.personality=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role_user,expression:"role_user"}],attrs:{type:"checkbox",value:"true",name:"ROLE_USER"},domProps:{checked:Array.isArray(t.role_user)?t._i(t.role_user,"true")>-1:t.role_user},on:{change:function(e){var s=t.role_user,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r="true",o=t._i(s,r);a.checked?o<0&&(t.role_user=s.concat([r])):o>-1&&(t.role_user=s.slice(0,o).concat(s.slice(o+1)))}else t.role_user=n}}}),t._v("ROLE_USER ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role_admin,expression:"role_admin"}],attrs:{type:"checkbox",value:"true",name:"ROLE_ADMIN"},domProps:{checked:Array.isArray(t.role_admin)?t._i(t.role_admin,"true")>-1:t.role_admin},on:{change:function(e){var s=t.role_admin,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r="true",o=t._i(s,r);a.checked?o<0&&(t.role_admin=s.concat([r])):o>-1&&(t.role_admin=s.slice(0,o).concat(s.slice(o+1)))}else t.role_admin=n}}}),t._v("ROLE_ADMIN ")]),s("input",{staticClass:"btn btn-secondary findUsers",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.users,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.personality))]),s("td",[t._v(t._s(e.username))]),s("td",t._l(e.roles,(function(e){return s("h5",{key:e.id},[t._v(t._s(e))])})),0),s("td",[s("router-link",{staticClass:"btn btn-info showStudent",attrs:{type:"submit",to:"/admin/personalities/"+e.personality}},[t._v("Подробнее")])],1)])})),0)])])},T=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("ID Личного дела")]),s("th",{attrs:{scope:"col"}},[t._v("Логин")]),s("th",{attrs:{scope:"col"}},[t._v("Роли")]),s("th",{attrs:{scope:"col"}})])}];const D="https://monitoring-system-back.herokuapp.com/admin";class G{getUsers(){return b().get(D+"/allUsers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}postUser(t,e,s,a){return b().post(D+"/addUser",{personalityId:t,username:e,password:s,role:a},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterUsers(t,e,s,a,n){return b().post(D+"/filterUsers",{id:t,personality:e,username:s,roleUser:this.nullCheck(a),roleAdmin:this.nullCheck(n)},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editUser(t,e,s,a){return b().put(D+`/user/${t}`,{userId:t,username:e,roleUser:this.nullCheck(s),roleAdmin:this.nullCheck(a)},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}nullCheck(t){return null===t||!1===t?"":t}}var z=new G,L={name:"adminUsers",data(){return{id:null,personality:null,username:"",role_user:"",role_admin:"",deleted:"",users:[],personalityId:null,usernameNew:"",passwordNew:"",roleNew:""}},async mounted(){await this.getUsers()},methods:{addUser:function(){z.postUser(this.personalityId,this.usernameNew,this.passwordNew,this.roleNew)},getUsers:function(){z.getUsers().then((t=>{this.users=t.data}))},findUsers:function(){z.filterUsers(this.id,this.personality,this.username,this.role_user,this.role_admin).then((t=>{this.users=t.data}))}}},U=L,Z=(0,d.Z)(U,B,T,!1,null,"fcb275dc",null),M=Z.exports,O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addTeacher.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.personalityId,expression:"personalityId"}],attrs:{type:"text",name:"personality_id",placeholder:"ID Личного дела"},domProps:{value:t.personalityId},on:{input:function(e){e.target.composing||(t.personalityId=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addTeacher",attrs:{type:"submit",value:"Создать преподавателя"}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.findTeachers.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.personality_id,expression:"personality_id"}],attrs:{type:"number",name:"personalityId",placeholder:"ID Личного дела"},domProps:{value:t.personality_id},on:{input:function(e){e.target.composing||(t.personality_id=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findTeachers",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.teachers,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.personality))]),s("td",[s("router-link",{staticClass:"btn btn-info showStudent",attrs:{type:"submit",to:"/admin/personalities/"+e.personality}},[t._v("Подробнее")])],1)])})),0)])])},q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("ID Личного дела")]),s("th",{attrs:{scope:"col"}})])}];const F="https://monitoring-system-back.herokuapp.com/admin";class H{getTeacher(t){return b().get(F+`/teacher/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getTeachers(){return b().get(F+"/allTeachers",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}postTeacher(t){return b().post(F+"/addTeacher",{personalityId:t},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterTeachers(t,e){return b().post(F+"/filterTeachers",{id:t,personality:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var V=new H,J={name:"adminTeachers",data(){return{id:null,personality_id:null,subject_id:null,teachers:[],personalityId:null}},async mounted(){await this.getTeachers()},methods:{addTeacher:function(){V.postTeacher(this.personalityId)},getTeachers:function(){V.getTeachers().then((t=>{this.teachers=t.data}))},findTeachers:function(){V.filterTeachers(this.id,this.personality_id,this.subject_id).then((t=>{this.teachers=t.data}))}}},K=J,Q=(0,d.Z)(K,O,q,!1,null,"19f5d1b7",null),W=Q.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addStudent.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.personalityId,expression:"personalityId"}],attrs:{type:"text",name:"personalityId",placeholder:"ID Личного дела"},domProps:{value:t.personalityId},on:{input:function(e){e.target.composing||(t.personalityId=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.student_cardId,expression:"student_cardId"}],attrs:{type:"text",name:"student_card_id",placeholder:"Номер студенческого билета"},domProps:{value:t.student_cardId},on:{input:function(e){e.target.composing||(t.student_cardId=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.group_name_post,expression:"group_name_post"}],attrs:{type:"text",name:"group_name",placeholder:"Группа"},domProps:{value:t.group_name_post},on:{input:function(e){e.target.composing||(t.group_name_post=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addStudent",attrs:{type:"submit",value:"Создать студента"}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.findStudents.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.student_card_id,expression:"student_card_id"}],attrs:{type:"text",name:"studentCardId",placeholder:"Номер студенческой книжки"},domProps:{value:t.student_card_id},on:{input:function(e){e.target.composing||(t.student_card_id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.personality_id,expression:"personality_id"}],attrs:{type:"number",name:"personalityId",placeholder:"ID Личного дела"},domProps:{value:t.personality_id},on:{input:function(e){e.target.composing||(t.personality_id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.group_id,expression:"group_id"}],attrs:{type:"number",name:"groupId",placeholder:"ID группы"},domProps:{value:t.group_id},on:{input:function(e){e.target.composing||(t.group_id=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findStudents",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.students,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.personality))]),s("td",[t._v(t._s(e.studentCardId))]),s("td",[t._v(t._s(e.group))]),s("td",[s("router-link",{staticClass:"btn btn-info showStudent",attrs:{type:"submit",to:"/admin/personalities/"+e.personality}},[t._v("Подробнее")])],1)])})),0)])])},Y=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("ID Личного дела")]),s("th",{attrs:{scope:"col"}},[t._v("Номер студенческой книжки")]),s("th",{attrs:{scope:"col"}},[t._v("ID группы")]),s("th",{attrs:{scope:"col"}})])}];const tt="https://monitoring-system-back.herokuapp.com/admin";class et{getStudents(){return b().get(tt+"/allStudents",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}postStudent(t,e,s){return b().post(tt+"/addStudent",{personalityId:t,studentCardId:e,groupName:s},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterStudents(t,e,s,a){return b().post(tt+"/filterStudents",{id:t,studentCardId:e,personalityId:s,groupId:a},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editStudent(t,e){return b().put(tt+`/student/${t}`,{group:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var st=new et,at={name:"adminStudents",data(){return{id:null,student_card_id:"",personality_id:null,group_id:null,students:[],personalityId:null,student_cardId:"",group_name_post:""}},async mounted(){await this.getStudents()},methods:{addStudent:function(){st.postStudent(this.personalityId,this.student_cardId,this.group_name_post)},getStudents:function(){st.getStudents().then((t=>{this.students=t.data}))},findStudents:function(){st.filterStudents(this.id,this.student_card_id,this.personality_id,this.group_id).then((t=>{this.students=t.data}))}}},nt=at,rt=(0,d.Z)(nt,X,Y,!1,null,"180724d0",null),ot=rt.exports,it=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[null!=t.postStatusResponse?s("h5",[t._v(t._s(t.postStatus))]):t._e(),s("form",{on:{submit:function(e){return e.preventDefault(),t.addGroup.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.post_name,expression:"post_name"}],attrs:{type:"text",name:"name",placeholder:"Имя группы"},domProps:{value:t.post_name},on:{input:function(e){e.target.composing||(t.post_name=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addGroup",attrs:{type:"submit",value:"Создать"}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.findGroups.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Имя группы"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findGroups",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.groups,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.name))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/admin/group/"+e.id}},[t._v("Подробнее")])],1)])})),0)])])},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Имя группы")]),s("th",{attrs:{scope:"col"}})])}];const lt="https://monitoring-system-back.herokuapp.com/admin";class dt{getGroup(t){return b().get(lt+`/group/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getGroups(){return b().get(lt+"/allGroups",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}postGroup(t){return b().post(lt+"/addGroup",{name:t},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterGroups(t,e){return b().post(lt+"/filterGroups",{id:t,name:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editGroup(t,e){return b().put(lt+`/group/${t}`,{name:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getStudentsByGroup(t){return b().get(lt+`/group/${t}/students`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var ct=new dt,pt={name:"adminGroups",data(){return{id:null,post_name:"",name:"",groups:[],postStatus:"",postStatusResponse:null}},async mounted(){await this.getGroups()},methods:{addGroup:function(){ct.postGroup(this.post_name).then((t=>{this.postStatusResponse=t.data,this.postStatus=this.postStatusResponse?"Группа успешно добавлена":"Не удалось добавить группу"}))},getGroups:function(){ct.getGroups().then((t=>{this.groups=t.data}))},findGroups:function(){ct.filterGroups(this.id,this.name).then((t=>{this.groups=t.data,console.log(this.groups)}))}}},mt=pt,ht=(0,d.Z)(mt,it,ut,!1,null,"f5317476",null),_t=ht.exports,gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[null!=t.postStatusResponse?s("h5",[t._v(t._s(t.postStatus))]):t._e(),s("form",{on:{submit:function(e){return e.preventDefault(),t.addSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.post_name,expression:"post_name"}],attrs:{type:"text",name:"name",placeholder:"Название предмета"},domProps:{value:t.post_name},on:{input:function(e){e.target.composing||(t.post_name=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addSubject",attrs:{type:"submit",value:"Создать"}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.findSubjects.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Название предмета"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findSubjects",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.subjects,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.name))]),s("td",[s("router-link",{staticClass:"btn btn-info showSubject",attrs:{type:"submit",to:"/admin/subject/"+e.id}},[t._v("Подробнее")])],1)])})),0)])])},vt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Название предмета")]),s("th",{attrs:{scope:"col"}})])}];const ft="https://monitoring-system-back.herokuapp.com/admin";class bt{getSubject(t){return b().get(ft+`/subject/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getSubjects(){return b().get(ft+"/allSubjects",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}postSubject(t){return b().post(ft+"/addSubject",{name:t},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterSubjects(t,e){return b().post(ft+"/filterSubjects",{id:t,name:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editSubject(t,e){return b().put(ft+`/subject/${t}`,{name:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}addGroupToSubject(t,e){return b().put(ft+`/subject/${t}`,{groups:[e]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}addTeacherToSubject(t,e){return b().put(ft+`/subject/${t}`,{teachers:[e]},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var yt=new bt,St={name:"adminSubjects",data(){return{post_name:"",id:null,name:"",subjects:[],postStatus:"",postStatusResponse:null}},async mounted(){await this.getSubjects()},methods:{addSubject:function(){yt.postSubject(this.post_name).then((t=>{this.postStatusResponse=t.data,this.postStatus=this.postStatusResponse?"Предмет успешно добавлен":"Не удалось добавить предмет"}))},getSubjects:function(){yt.getSubjects().then((t=>{this.subjects=t.data}))},findSubjects:function(){yt.filterSubjects(this.id,this.name).then((t=>{this.subjects=t.data}))}}},kt=St,It=(0,d.Z)(kt,gt,vt,!1,null,"30f27836",null),wt=It.exports,jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"admin"}},[s("AdminNav"),s("router-view")],1)},At=[],Nt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar bg-light"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin/personalities"}},[t._v("Личные дела")]),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin/users"}},[t._v("Пользователи")]),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin/teachers"}},[t._v("Преподаватели")]),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin/students"}},[t._v("Студенты")]),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin/groups"}},[t._v("Группы")]),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/admin/subjects"}},[t._v("Предметы")])],1)])},Ct=[],xt={name:"AdminNav"},Pt=xt,$t=(0,d.Z)(Pt,Nt,Ct,!1,null,"6ea90146",null),Et=$t.exports,Rt={name:"AdminPage",components:{AdminNav:Et}},Bt=Rt,Tt=(0,d.Z)(Bt,jt,At,!1,null,"e9e47ba4",null),Dt=Tt.exports,Gt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[null!=t.postStatusResponse?s("h5",[t._v(t._s(t.postStatus))]):t._e(),s("form",{on:{submit:function(e){return e.preventDefault(),t.addPersonality.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newSecondName,expression:"newSecondName"}],attrs:{type:"text",name:"second_name",placeholder:"Фамилия"},domProps:{value:t.newSecondName},on:{input:function(e){e.target.composing||(t.newSecondName=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newFirstName,expression:"newFirstName"}],attrs:{type:"text",name:"first_name",placeholder:"Имя"},domProps:{value:t.newFirstName},on:{input:function(e){e.target.composing||(t.newFirstName=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newMiddleName,expression:"newMiddleName"}],attrs:{type:"text",name:"middle_name",placeholder:"Отчество"},domProps:{value:t.newMiddleName},on:{input:function(e){e.target.composing||(t.newMiddleName=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newEmail,expression:"newEmail"}],attrs:{type:"email",name:"email",placeholder:"Email"},domProps:{value:t.newEmail},on:{input:function(e){e.target.composing||(t.newEmail=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addPersonality",attrs:{type:"submit",value:"Создать"}})]),s("form",{on:{submit:function(e){return e.preventDefault(),t.findPersonalities.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.second_name,expression:"second_name"}],attrs:{type:"text",name:"second_name",placeholder:"Фамилия"},domProps:{value:t.second_name},on:{input:function(e){e.target.composing||(t.second_name=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{type:"text",name:"first_name",placeholder:"Имя"},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.middle_name,expression:"middle_name"}],attrs:{type:"text",name:"middle_name",placeholder:"Отчество"},domProps:{value:t.middle_name},on:{input:function(e){e.target.composing||(t.middle_name=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findPersonalities",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.personalities,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.secondName))]),s("td",[t._v(t._s(e.firstName))]),s("td",[t._v(t._s(e.middleName))]),s("td",[t._v(t._s(e.email))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/admin/personalities/"+e.id}},[t._v("Подробнее")])],1)])})),0)])])},zt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")]),s("th",{attrs:{scope:"col"}},[t._v("Email")]),s("th",{attrs:{scope:"col"}})])}];const Lt="https://monitoring-system-back.herokuapp.com/admin";class Ut{getPersonalities(){return b().get(Lt+"/allPersonalities",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}postPersonality(t,e,s,a){return b().post(Lt+"/addPersonality",{firstName:t,secondName:e,middleName:s,email:a},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterPersonalities(t,e,s,a){return b().post(Lt+"/filterPersonalities",{id:t,firstName:e,secondName:s,middleName:a},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getPersonality(t){return b().get(Lt+`/personality/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editPersonality(t,e,s,a,n){return b().put(Lt+`/personality/${t}`,{firstName:e,secondName:s,middleName:a,email:n},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getUser(t){return b().get(Lt+`/personality/${t}/user`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getStudent(t){return b().get(Lt+`/personality/${t}/student`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getTeacher(t){return b().get(Lt+`/personality/${t}/teacher`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var Zt=new Ut,Mt={name:"adminPersonalities",data(){return{id:null,first_name:"",second_name:"",middle_name:"",email:"",deleted:"",personalities:[],newFirstName:"",newSecondName:"",newMiddleName:"",newEmail:"",postStatus:"",postStatusResponse:null}},async mounted(){await this.getPersonalities()},methods:{addPersonality:function(){Zt.postPersonality(this.newFirstName,this.newSecondName,this.newMiddleName,this.newEmail).then((t=>{this.postStatusResponse=t.data,this.postStatus=this.postStatusResponse?"Запись успешно добавлена":"Не удалось добавить запись"}))},getPersonalities:function(){Zt.getPersonalities().then((t=>{this.personalities=t.data}))},findPersonalities:function(){Zt.filterPersonalities(this.id,this.first_name,this.second_name,this.middle_name).then((t=>{this.personalities=t.data}))}}},Ot=Mt,qt=(0,d.Z)(Ot,Gt,zt,!1,null,"42fdf7a8",null),Ft=qt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("TeacherNav"),s("router-view")],1)},Vt=[],Jt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar bg-light"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:"/teacher/subjects"}},[t._v("Предметы")]),s("router-link",{staticClass:"navbar-brand",attrs:{to:"/teacher/groups"}},[t._v("Группы")])],1)])},Kt=[],Qt={name:"TeacherNav"},Wt=Qt,Xt=(0,d.Z)(Wt,Jt,Kt,!1,null,"97f8f8ca",null),Yt=Xt.exports,te={name:"TeacherPage",components:{TeacherNav:Yt}},ee=te,se=(0,d.Z)(ee,Ht,Vt,!1,null,"31dbee51",null),ae=se.exports,ne=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.findSubjects.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Название предмета"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findSubjects",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.subjects,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),s("td",[s("router-link",{staticClass:"btn btn-info showSubject",attrs:{type:"submit",to:"/teacher/subject/"+e.id}},[t._v("Подробнее")])],1)])})),0)])])},re=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("Название предмета")]),s("th",{attrs:{scope:"col"}})])}];const oe="https://monitoring-system-back.herokuapp.com/teacher";class ie{getSubject(t){return b().get(oe+`/subject/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getSubjects(){return b().get(oe+"/allSubjects",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterSubjects(t,e){return b().post(oe+"/filterSubjects",{id:t,name:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var ue=new ie;const le="https://monitoring-system-back.herokuapp.com/teacher";class de{getPersonalities(){return b().get(le+"/allPersonalities",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getPersonality(t){return b().get(le+`/personality/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getStudent(t){return b().get(le+`/personality/${t}/student`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getTeacher(t){return b().get(le+`/personality/${t}/teacher`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var ce=new de,pe={name:"TeacherSubject",data(){return{personalityId:this.$store.getters.getPersonalityId,teacher:null,id:null,name:"",subjects:[]}},async mounted(){await this.getTeacher()},methods:{getTeacher:function(){console.log("personality ",this.personalityId),ce.getTeacher(this.personalityId).then((t=>{this.teacher=t.data,console.log("teacher ",this.teacher),this.getSubjects(this.teacher.subjects)}))},getSubjects:function(t){for(let e of t)ue.getSubject(e).then((t=>{this.subjects.push(t.data)}));console.log("subjects ",this.subjects)},findSubjects:function(){ue.filterSubjects(this.id,this.name).then((t=>{this.subjects=t.data,console.log("subjects ",this.subjects)}))}}},me=pe,he=(0,d.Z)(me,ne,re,!1,null,"c1c48726",null),_e=he.exports,ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("form",{on:{submit:function(e){return e.preventDefault(),t.findGroups.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"number",name:"id",placeholder:"ID"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:"Имя группы"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),s("input",{staticClass:"btn btn-secondary findGroups",attrs:{type:"submit",value:"Найти"}})]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(this.groups,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/teacher/group/"+e.id}},[t._v("Подробнее")])],1)])})),0)])])},ve=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("Имя группы")]),s("th",{attrs:{scope:"col"}})])}];const fe="https://monitoring-system-back.herokuapp.com/teacher";class be{getGroup(t){return b().get(fe+`/group/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getGroups(){return b().get(fe+"/allGroups",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterGroups(t,e){return b().post(fe+"/filterGroups",{id:t,name:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getStudentsByGroup(t){return b().get(fe+`/group/${t}/students`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var ye=new be,Se={name:"TeacherGroups",data(){return{id:null,name:"",groups:[]}},async mounted(){await this.getGroups()},methods:{getGroups:function(){ye.getGroups().then((t=>{this.groups=t.data}))},findGroups:function(){ye.filterGroups(this.id,this.name).then((t=>{this.groups=t.data,console.log(this.groups)}))}}},ke=Se,Ie=(0,d.Z)(ke,ge,ve,!1,null,"23a37979",null),we=Ie.exports,je=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Группа: "+t._s(t.group.name))]),null!=t.editGroupStatusResponse?s("h5",[t._v(t._s(t.editGroupStatus))]):t._e(),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tr",[s("td",[t._v(t._s(t.group.id))]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:t.group.name},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.editGroup.apply(null,arguments)}}},[s("input",{staticClass:"btn btn-warning editGroup",attrs:{type:"submit",value:"Редактировать"}})])])])]),s("table",{staticClass:"table table-bordered"},[t._m(1),s("tbody",t._l(this.students,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.personality))]),s("td",[t._v(t._s(e.studentCardId))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/admin/personalities/"+e.personality}},[t._v("Подробнее")])],1)])})),0)])])},Ae=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Имя группы")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("ID Личного дела")]),s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}})])}],Ne={name:"AdminGroup",data(){return{editGroupStatus:"",editGroupStatusResponse:null,personality:null,id:this.$route.params.id,first_name:"",second_name:"",middle_name:"",email:"",students:[],student_card_id:"",group:null,name:""}},async mounted(){await this.getGroup()},methods:{getPersonality:function(t){Zt.getPersonality(t.personality).then((t=>{this.personality=t.data}))},getStudents:function(){ct.getStudentsByGroup(this.id).then((t=>{this.students=t.data,console.log(this.students)}))},getGroup:function(){ct.getGroup(this.id).then((t=>{this.group=t.data,console.log(this.group),this.getStudents()}))},editGroup:function(){ct.editGroup(this.id,this.name).then((t=>{this.editGroupStatusResponse=t.data,this.editGroupStatus=this.editGroupStatusResponse?"Данные группы успешно изменены":"Не удалось изменить данные группы"}))}}},Ce=Ne,xe=(0,d.Z)(Ce,je,Ae,!1,null,"229c4744",null),Pe=xe.exports,$e=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h3",[t._v("Личные данные")]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tr",[s("td",[t._v(t._s(t.personality.id))]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.second_name,expression:"second_name"}],attrs:{type:"text",name:"second_name",placeholder:t.personality.secondName},domProps:{value:t.second_name},on:{input:function(e){e.target.composing||(t.second_name=e.target.value)}}})])]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.first_name,expression:"first_name"}],attrs:{type:"text",name:"first_name",placeholder:t.personality.firstName},domProps:{value:t.first_name},on:{input:function(e){e.target.composing||(t.first_name=e.target.value)}}})])]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.middle_name,expression:"middle_name"}],attrs:{type:"text",name:"middle_name",placeholder:t.personality.middleName},domProps:{value:t.middle_name},on:{input:function(e){e.target.composing||(t.middle_name=e.target.value)}}})])]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text",name:"email",placeholder:t.personality.email},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.editPersonality.apply(null,arguments)}}},[s("input",{staticClass:"btn btn-warning editPersonality",attrs:{type:"submit",value:"Редактировать"}})])])])]),s("h3",[t._v("Данные пользователя")]),null!=t.postUserStatusResponse?s("h5",[t._v(t._s(t.postUserStatus))]):t._e(),null==t.user?s("form",{on:{submit:function(e){return e.preventDefault(),t.addUser.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:"Логин"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text",name:"password",placeholder:"Пароль"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.role,expression:"role"}],attrs:{type:"text",name:"role",placeholder:"Роль"},domProps:{value:t.role},on:{input:function(e){e.target.composing||(t.role=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addUser",attrs:{type:"submit",value:"Создать пользователя"}})]):t._e(),null!=t.user?s("table",{staticClass:"table table-bordered"},[t._m(1),s("tr",[s("td",[t._v(t._s(t.user.id))]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],attrs:{type:"text",name:"username",placeholder:t.user.username},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})])]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role_user,expression:"role_user"}],attrs:{type:"checkbox",value:"true",name:"ROLE_USER"},domProps:{checked:t.role_user,checked:Array.isArray(t.role_user)?t._i(t.role_user,"true")>-1:t.role_user},on:{change:function(e){var s=t.role_user,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r="true",o=t._i(s,r);a.checked?o<0&&(t.role_user=s.concat([r])):o>-1&&(t.role_user=s.slice(0,o).concat(s.slice(o+1)))}else t.role_user=n}}}),t._v("ROLE_USER ")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.role_admin,expression:"role_admin"}],attrs:{type:"checkbox",value:"true",name:"ROLE_ADMIN"},domProps:{checked:t.role_admin,checked:Array.isArray(t.role_admin)?t._i(t.role_admin,"true")>-1:t.role_admin},on:{change:function(e){var s=t.role_admin,a=e.target,n=!!a.checked;if(Array.isArray(s)){var r="true",o=t._i(s,r);a.checked?o<0&&(t.role_admin=s.concat([r])):o>-1&&(t.role_admin=s.slice(0,o).concat(s.slice(o+1)))}else t.role_admin=n}}}),t._v("ROLE_ADMIN ")])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.editUser.apply(null,arguments)}}},[s("input",{staticClass:"btn btn-warning editUser",attrs:{type:"submit",value:"Редактировать"}})])])])]):t._e(),s("table",{staticClass:"table table-bordered"},[t._m(2),s("tbody",[s("tr",[s("td",[null!=t.postStudentStatusResponse?s("h5",[t._v(t._s(t.postStudentStatus))]):t._e(),null==t.student?s("form",{on:{submit:function(e){return e.preventDefault(),t.addStudent.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.student_card_id,expression:"student_card_id"}],attrs:{type:"text",name:"student_card_id",placeholder:"Номер студенческого билета"},domProps:{value:t.student_card_id},on:{input:function(e){e.target.composing||(t.student_card_id=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.group_name_post,expression:"group_name_post"}],attrs:{type:"text",name:"group_name",placeholder:"Группа"},domProps:{value:t.group_name_post},on:{input:function(e){e.target.composing||(t.group_name_post=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addStudent",attrs:{type:"submit",value:"Создать студента"}})]):t._e(),null!=t.student?s("table",{staticClass:"table table-bordered"},[t._m(3),s("tr",[s("td",[t._v(t._s(t.student.id))]),s("td",[t._v(t._s(t.student.studentCardId))]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.group_name,expression:"group_name"}],attrs:{type:"text",name:"group_name",placeholder:t.group.name},domProps:{value:t.group_name},on:{input:function(e){e.target.composing||(t.group_name=e.target.value)}}})])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.editStudent.apply(null,arguments)}}},[s("input",{staticClass:"btn btn-warning editStudent",attrs:{type:"submit",value:"Редактировать"}})])])])]):t._e()]),s("td",[null!=t.postTeacherStatusResponse?s("h5",[t._v(t._s(t.postTeacherStatus))]):t._e(),null==t.teacher?s("form",{on:{submit:function(e){return e.preventDefault(),t.addTeacher.apply(null,arguments)}}},[s("input",{staticClass:"btn btn-primary addTeacher",attrs:{type:"submit",value:"Создать преподавателя"}})]):t._e(),null!=t.teacher?s("table",{staticClass:"table table-bordered"},[t._m(4),s("tr",[s("td",[t._v(t._s(t.teacher.id))])])]):t._e()])])])])])},Ee=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")]),s("th",{attrs:{scope:"col"}},[t._v("Email")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Логин")]),s("th",{attrs:{scope:"col"}},[t._v("Роли")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Данные студента")])]),s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Данные преподавателя")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}},[t._v("Группа")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")])])}],Re={name:"AdminPerson",data(){return{editStudentStatus:"",editStudentStatusResponse:null,editUserStatus:"",editUserStatusResponse:null,editPersonalityStatus:"",editPersonalityStatusResponse:null,postStudentStatus:"",postStudentStatusResponse:null,postUserStatus:"",postUserStatusResponse:null,postTeacherStatus:"",postTeacherStatusResponse:null,personality:null,id:this.$route.params.id,first_name:"",second_name:"",middle_name:"",email:"",user:null,username:"",password:"",role:"",role_user:!1,role_admin:!1,student:null,student_card_id:"",group_name_post:"",group_name:"",group:null,teacher:null}},async mounted(){await this.getPersonality()},methods:{addUser:function(){z.postUser(this.id,this.username,this.password,this.role).then((t=>{this.postUserStatusResponse=t.data,this.postUserStatus=this.postUserStatusResponse?"Пользователь успешно создан":"Не удалось создать пользователя"}))},addStudent:function(){st.postStudent(this.id,this.student_card_id,this.group_name_post).then((t=>{this.postStudentStatusResponse=t.data,this.postStudentStatus=this.postStudentStatusResponse?"Студент успешно создан":"Не удалось создать студента"}))},addTeacher:function(){V.postTeacher(this.id).then((t=>{this.postTeacherStatusResponse=t.data,this.postTeacherStatus=this.postTeacherStatusResponse?"Преподаватель успешно создан":"Не удалось создать преподавателя"}))},getPersonality:function(){Zt.getPersonality(this.id).then((t=>{this.personality=t.data,console.log(this.personality),this.getUser(),this.getStudent(),this.getTeacher()}))},getUser:function(){Zt.getUser(this.id).then((t=>{this.user=t.data;for(let e=0;e<this.user.roles.length;++e)"ROLE_USER"===this.user.roles[e]&&(this.role_user=!0),"ROLE_ADMIN"===this.user.roles[e]&&(this.role_admin=!0)}))},getStudent:function(){Zt.getStudent(this.id).then((t=>{this.student=t.data,console.log(this.student),this.getGroup(this.student)}))},getGroup:function(t){ct.getGroup(t.group).then((t=>{this.group=t.data}))},getTeacher:function(){Zt.getTeacher(this.id).then((t=>{this.teacher=t.data}))},editUser:function(){z.editUser(this.user.id,this.username,this.role_user,this.role_admin).then((t=>{this.editUserStatusResponse=t.data,this.editUserStatus=this.editUserStatusResponse?"Данные пользователя успешно изменены":"Не удалось изменить данные пользователя"}))},editPersonality:function(){Zt.editPersonality(this.id,this.first_name,this.second_name,this.middle_name,this.email).then((t=>{this.editPersonalityStatusResponse=t.data,this.editPersonalityStatus=this.editPersonalityStatusResponse?"Личные данные успешно изменены":"Не удалось изменить личные данные"}))},editStudent:function(){st.editStudent(this.student.id,this.group_name).then((t=>{this.editStudentStatusResponse=t.data,this.editStatus=this.editStudentStatusResponse?"Данные студента успешно изменены":"Не удалось изменить данные студента"}))}}},Be=Re,Te=(0,d.Z)(Be,$e,Ee,!1,null,"31ea3bbe",null),De=Te.exports,Ge=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Предмет: "+t._s(t.subject.name))]),null!=t.editStatusResponse?s("h5",[t._v(t._s(t.editStatus))]):t._e(),null!=t.addStatusResponse?s("h5",[t._v(t._s(t.addStatus))]):t._e(),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tr",[s("td",[t._v(t._s(t.subject.id))]),s("td",[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{type:"text",name:"name",placeholder:t.subject.name},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.editSubject.apply(null,arguments)}}},[s("input",{staticClass:"btn btn-warning editSubject",attrs:{type:"submit",value:"Редактировать"}})])])])]),s("table",{staticClass:"table table-bordered"},[t._m(1),s("tbody",[s("tr",[s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addLessonToSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lesson_name,expression:"lesson_name"}],attrs:{type:"text",name:"lesson_name",placeholder:"Название лекции"},domProps:{value:t.lesson_name},on:{input:function(e){e.target.composing||(t.lesson_name=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addLessonToSubject",attrs:{type:"submit",value:"Добавить"}})]),s("table",{staticClass:"table table-bordered"},[t._m(2),s("tbody",t._l(this.lessons,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))])])})),0)])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addCheckpointToSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkpoint_name,expression:"checkpoint_name"}],attrs:{type:"text",name:"checkpoint_name",placeholder:"Название работы"},domProps:{value:t.checkpoint_name},on:{input:function(e){e.target.composing||(t.checkpoint_name=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addCheckpointToSubject",attrs:{type:"submit",value:"Добавить"}})]),s("table",{staticClass:"table table-bordered"},[t._m(3),s("tbody",t._l(this.checkpoints,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))])])})),0)])])])])]),s("table",{staticClass:"table table-bordered"},[t._m(4),s("tbody",[s("tr",[s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addTeacherToSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.teacher_id,expression:"teacher_id"}],attrs:{type:"number",name:"teacherId",placeholder:"ID преподавателя"},domProps:{value:t.teacher_id},on:{input:function(e){e.target.composing||(t.teacher_id=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addTeacherToSubject",attrs:{type:"submit",value:"Добавить"}})]),s("table",{staticClass:"table table-bordered"},[t._m(5),s("tbody",t._l(this.teachers,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.personality))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/admin/personalities/"+e.personality}},[t._v("Подробнее")])],1)])})),0)])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addGroupToSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.group_id,expression:"group_id"}],attrs:{type:"number",name:"groupId",placeholder:"ID группы"},domProps:{value:t.group_id},on:{input:function(e){e.target.composing||(t.group_id=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addGroupToSubject",attrs:{type:"submit",value:"Добавить"}})]),s("table",{staticClass:"table table-bordered"},[t._m(6),s("tbody",t._l(this.groups,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.name))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/admin/group/"+e.id}},[t._v("Подробнее")])],1),s("td",[s("router-link",{staticClass:"btn btn-outline-info",attrs:{type:"submit",to:"/admin/subject/"+t.$data.id+"/group/"+e.id}},[t._v("Оценки")])],1)])})),0)])])])])])])},ze=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Название предмета")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Лекции")])]),s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Оцениваемые работы")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Преподаватели")])]),s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Группы")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("ID личного дела")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v("Название группы")]),s("th",{attrs:{scope:"col"}})])}];const Le="https://monitoring-system-back.herokuapp.com/admin";class Ue{getLesson(t){return b().get(Le+`/lesson/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getCheckpoint(t){return b().get(Le+`/checkpoint/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getLessons(){return b().get(Le+"/allLessons",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getCheckpoints(){return b().get(Le+"/allCheckpoints",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}addLessonToSubject(t,e){return b().post(Le+"/addLesson",{name:t,subjectId:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}addCheckpointToSubject(t,e){return b().post(Le+"/addCheckpoint",{name:t,subjectId:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var Ze=new Ue,Me={name:"AdminSubject",data(){return{addStatus:"",addStatusResponse:null,editStatus:"",editStatusResponse:null,id:this.$route.params.id,lessons:[],checkpoints:[],groups:[],teachers:[],subject:null,name:"",teacher_id:null,group_id:null,lesson_name:"",checkpoint_name:""}},async mounted(){await this.getSubject()},methods:{addGroupToSubject:function(){yt.addGroupToSubject(this.id,this.group_id).then((t=>{this.addStatusResponse=t.data,this.addStatus=this.addStatusResponse?"Группа успешно добавлена":"Не удалось добавить группу"}))},addTeacherToSubject:function(){yt.addTeacherToSubject(this.id,this.teacher_id).then((t=>{this.addStatusResponse=t.data,this.addStatus=this.addStatusResponse?"Преподаватель успешно добавлен":"Не удалось добавить преподавателя"}))},addLessonToSubject:function(){Ze.addLessonToSubject(this.lesson_name,this.id).then((t=>{this.addStatusResponse=t.data,this.addStatus=this.addStatusResponse?"Лекция успешно добавлена":"Не удалось добавить лекцию"}))},addCheckpointToSubject:function(){Ze.addCheckpointToSubject(this.checkpoint_name,this.id).then((t=>{this.addStatusResponse=t.data,this.addStatus=this.addStatusResponse?"Работа успешно добавлен":"Не удалось добавить работу"}))},getSubject:function(){yt.getSubject(this.id).then((t=>{this.subject=t.data,console.log(this.subject),this.getTeachers(),this.getLessons(),this.getCheckpoints(),this.getGroups()}))},getLessons:function(){for(let t of this.subject.lessons)Ze.getLesson(t).then((t=>{this.lessons.push(t.data)}))},getCheckpoints:function(){for(let t of this.subject.checkpoints)Ze.getCheckpoint(t).then((t=>{this.checkpoints.push(t.data)}))},getTeachers:function(){for(let t of this.subject.teachers)V.getTeacher(t).then((t=>{this.teachers.push(t.data)}))},getGroups:function(){for(let t of this.subject.groups)ct.getGroup(t).then((t=>{this.groups.push(t.data)}))},editSubject:function(){yt.editSubject(this.id,this.name).then((t=>{this.editStatusResponse=t.data,this.editStatus=this.editStatusResponse?"Данные предмета успешно изменены":"Не удалось изменить данные предмета"}))}}},Oe=Me,qe=(0,d.Z)(Oe,Ge,ze,!1,null,"a03a6182",null),Fe=qe.exports,He=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Предмет: "+t._s(t.subject.name))]),s("h2",[t._v("Группа: "+t._s(t.group.name))]),s("h3",[t._v("Лекции")]),t._l(this.lessons,(function(e){return s("div",{key:e.id},[s("table",{staticClass:"table table-bordered"},[t._m(0,!0),s("tbody",[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.name))])])]),s("table",{staticClass:"table table-bordered"},[t._m(1,!0),s("tbody",t._l(t.students,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.id))]),s("td",[t._v(t._s(a.studentCardId))]),s("td",[t._v(t._s(a.personality.secondName))]),s("td",[t._v(t._s(a.personality.firstName))]),s("td",[t._v(t._s(a.personality.middleName))]),t._l(a.attendance,(function(a){return a.lesson===e.id?s("td",{key:a.id},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.attendance_mark,expression:"attendance_mark"}],attrs:{type:"text",name:"attendance_mark",placeholder:a.attendanceMark},domProps:{value:t.attendance_mark},on:{input:function(e){e.target.composing||(t.attendance_mark=e.target.value)}}})])]):t._e()})),s("td",[s("form",{on:{submit:function(s){return s.preventDefault(),t.findAttendanceByLessonAndStudent(e,a)}}},[s("input",{staticClass:"btn btn-warning findAttendanceByLessonAndStudent",attrs:{type:"submit",value:"Редактировать"}})])])],2)})),0)])])})),s("h3",[t._v("Оцениваемые работы")]),t._l(this.checkpoints,(function(e){return s("div",{key:e.id},[s("table",{staticClass:"table table-bordered"},[t._m(2,!0),s("tbody",[s("td",[t._v(t._s(e.id))]),s("td",[t._v(t._s(e.name))])])]),s("table",{staticClass:"table table-bordered"},[t._m(3,!0),s("tbody",t._l(t.students,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.id))]),s("td",[t._v(t._s(a.studentCardId))]),s("td",[t._v(t._s(a.personality.secondName))]),s("td",[t._v(t._s(a.personality.firstName))]),s("td",[t._v(t._s(a.personality.middleName))]),t._l(a.scores,(function(a){return a.checkpoint===e.id?s("td",{key:a.id},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.score_mark,expression:"score_mark"}],attrs:{type:"text",name:"score_mark",placeholder:a.scoreMark},domProps:{value:t.score_mark},on:{input:function(e){e.target.composing||(t.score_mark=e.target.value)}}})])]):t._e()})),s("td",[s("form",{on:{submit:function(s){return s.preventDefault(),t.findScoreByLessonAndStudent(e,a)}}},[s("input",{staticClass:"btn btn-warning findScoreByLessonAndStudent",attrs:{type:"submit",value:"Редактировать"}})])])],2)})),0)])])}))],2)},Ve=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID лекции")]),s("th",{attrs:{scope:"col"}},[t._v("Название лекции")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID студента")]),s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")]),s("th",{attrs:{scope:"col"}},[t._v("Отметка")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID работы")]),s("th",{attrs:{scope:"col"}},[t._v("Название работы")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("ID студента")]),s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")]),s("th",{attrs:{scope:"col"}},[t._v("Оценка")]),s("th",{attrs:{scope:"col"}})])}];const Je="https://monitoring-system-back.herokuapp.com/admin";class Ke{getScores(){return b().get(Je+"/allScores",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getAttendances(){return b().get(Je+"/allAttendance",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getScore(t){return b().get(Je+`/score/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getAttendance(t){return b().get(Je+`/attendance/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterScores(t,e,s){return b().post(Je+"/filterScores",{id:t,studentId:e,checkpointId:s},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterAttendance(t,e,s){return b().post(Je+"/filterAttendance",{id:t,studentId:e,lessonId:s},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editAttendance(t,e){return b().put(Je+`/attendance/${t.id}`,{mark:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editScore(t,e){return b().put(Je+`/score/${t.id}`,{mark:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var Qe=new Ke,We={name:"AdminSubjectGroup",data(){return{group_id:this.$route.params.group_id,subject_id:this.$route.params.subject_id,lessons:[],checkpoints:[],students:[],scores:[],attendances:[],group:null,subject:null,attendance_mark:"",score_mark:""}},async mounted(){await this.getGroup()},methods:{getGroup:function(){ct.getGroup(this.group_id).then((t=>{this.group=t.data,console.log("group ",this.group),this.getStudents()}))},getStudents:function(){ct.getStudentsByGroup(this.group_id).then((t=>{this.students=t.data,console.log("students ",this.students),this.getPersonalities()}))},getPersonalities:function(){for(let t of this.students)Zt.getPersonality(t.personality).then((e=>{t.personality=e.data}));console.log("students + person",this.students),this.getSubject()},getSubject:function(){yt.getSubject(this.subject_id).then((t=>{this.subject=t.data,console.log("subject: ",this.subject),this.getEvents()}))},getEvents:function(){this.getLessons(),this.getCheckpoints()},getLessons:function(){for(let t of this.subject.lessons)Ze.getLesson(t).then((t=>{this.lessons.push(t.data)}));console.log("lessons: ",this.lessons),this.getAttendance()},getCheckpoints:function(){for(let t of this.subject.checkpoints)Ze.getCheckpoint(t).then((t=>{this.checkpoints.push(t.data)}));console.log("checkpoints",this.checkpoints),this.getScores()},getAttendance:function(){for(let t of this.students)Qe.filterAttendance(null,t.id,null).then((e=>{this.attendances.push(e.data),t.attendance=e.data}));console.log("attendances: ",this.attendances)},getScores:function(){for(let t of this.students)Qe.filterScores(null,t.id,null).then((e=>{this.scores.push(e.data),t.scores=e.data}));console.log("scores: ",this.scores)},findAttendanceByLessonAndStudent:function(t,e){Qe.filterAttendance(null,e.id,t.id).then((t=>{let e=t.data;this.editAttendanceMark(e[0])}))},editAttendanceMark:function(t){Qe.editAttendance(t,this.attendance_mark).then((t=>{this.editStatusResponse=t.data,this.editStatus=this.editStatusResponse?"Отметка успешно изменена":"Не удалось изменить отметку"}))},findScoreByLessonAndStudent:function(t,e){Qe.filterScores(null,e.id,t.id).then((t=>{let e=t.data;this.editScoreMark(e[0])}))},editScoreMark:function(t){Qe.editScore(t,this.score_mark).then((t=>{this.editStatusResponse=t.data,this.editStatus=this.editStatusResponse?"Отметка успешно изменена":"Не удалось изменить отметку"}))}}},Xe=We,Ye=(0,d.Z)(Xe,He,Ve,!1,null,"eee6fc7e",null),ts=Ye.exports,es=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Предмет: "+t._s(t.subject.name))]),null!=t.editStatusResponse?s("h5",[t._v(t._s(t.editStatus))]):t._e(),null!=t.addStatusResponse?s("h5",[t._v(t._s(t.addStatus))]):t._e(),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",[s("tr",[s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addLessonToSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.lesson_name,expression:"lesson_name"}],attrs:{type:"text",name:"lesson_name",placeholder:"Название лекции"},domProps:{value:t.lesson_name},on:{input:function(e){e.target.composing||(t.lesson_name=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addLessonToSubject",attrs:{type:"submit",value:"Добавить"}})]),s("table",{staticClass:"table table-bordered"},[t._m(1),s("tbody",t._l(this.lessons,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))])])})),0)])]),s("td",[s("form",{on:{submit:function(e){return e.preventDefault(),t.addCheckpointToSubject.apply(null,arguments)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.checkpoint_name,expression:"checkpoint_name"}],attrs:{type:"text",name:"checkpoint_name",placeholder:"Название работы"},domProps:{value:t.checkpoint_name},on:{input:function(e){e.target.composing||(t.checkpoint_name=e.target.value)}}}),s("input",{staticClass:"btn btn-primary addCheckpointToSubject",attrs:{type:"submit",value:"Добавить"}})]),s("table",{staticClass:"table table-bordered"},[t._m(2),s("tbody",t._l(this.checkpoints,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))])])})),0)])])])])]),s("h3",[t._v("Группы")]),s("table",{staticClass:"table table-bordered"},[t._m(3),s("tbody",t._l(this.groups,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.name))]),s("td",[s("router-link",{staticClass:"btn btn-info",attrs:{type:"submit",to:"/teacher/group/"+e.id}},[t._v("Подробнее")])],1),s("td",[s("router-link",{staticClass:"btn btn-outline-info",attrs:{type:"submit",to:"/teacher/subject/"+t.$data.id+"/group/"+e.id}},[t._v("Оценки")])],1)])})),0)])])},ss=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Лекции")])]),s("th",{attrs:{scope:"col"}},[s("h3",[t._v("Оцениваемые работы")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("Название группы")]),s("th",{attrs:{scope:"col"}}),s("th",{attrs:{scope:"col"}})])}];const as="https://monitoring-system-back.herokuapp.com/teacher";class ns{getLesson(t){return b().get(as+`/lesson/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getCheckpoint(t){return b().get(as+`/checkpoint/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getLessons(){return b().get(as+"/allLessons",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getCheckpoints(){return b().get(as+"/allCheckpoints",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}addLessonToSubject(t,e){return b().post(as+"/addLesson",{name:t,subjectId:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}addCheckpointToSubject(t,e){return b().post(as+"/addCheckpoint",{name:t,subjectId:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var rs=new ns,os={name:"TeacherSubject",data(){return{addStatus:"",addStatusResponse:null,editStatus:"",editStatusResponse:null,id:this.$route.params.id,lessons:[],checkpoints:[],groups:[],teachers:[],subject:null,name:"",teacher_id:null,group_id:null,lesson_name:"",checkpoint_name:""}},async mounted(){await this.getSubject()},methods:{addLessonToSubject:function(){rs.addLessonToSubject(this.lesson_name,this.id).then((t=>{this.addStatusResponse=t.data,this.addStatus=this.addStatusResponse?"Лекция успешно добавлена":"Не удалось добавить лекцию"}))},addCheckpointToSubject:function(){rs.addCheckpointToSubject(this.checkpoint_name,this.id).then((t=>{this.addStatusResponse=t.data,this.addStatus=this.addStatusResponse?"Работа успешно добавлен":"Не удалось добавить работу"}))},getSubject:function(){ue.getSubject(this.id).then((t=>{this.subject=t.data,console.log(this.subject),this.getLessons(),this.getCheckpoints(),this.getGroups()}))},getLessons:function(){for(let t of this.subject.lessons)rs.getLesson(t).then((t=>{this.lessons.push(t.data)}))},getCheckpoints:function(){for(let t of this.subject.checkpoints)rs.getCheckpoint(t).then((t=>{this.checkpoints.push(t.data)}))},getGroups:function(){for(let t of this.subject.groups)ye.getGroup(t).then((t=>{this.groups.push(t.data)}))},editSubject:function(){ue.editSubject(this.id,this.name).then((t=>{this.editStatusResponse=t.data,this.editStatus=this.editStatusResponse?"Данные предмета успешно изменены":"Не удалось изменить данные предмета"}))}}},is=os,us=(0,d.Z)(is,es,ss,!1,null,"60a8207a",null),ls=us.exports,ds=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Предмет: "+t._s(t.subject.name))]),s("h2",[t._v("Группа: "+t._s(t.group.name))]),t._l(this.lessons,(function(e){return s("div",{key:e.id},[s("table",{staticClass:"table table-bordered"},[t._m(0,!0),s("tbody",[s("h3",[t._v(t._s(e.name))])])]),s("table",{staticClass:"table table-bordered"},[t._m(1,!0),s("tbody",t._l(t.students,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.studentCardId))]),s("td",[t._v(t._s(a.personality.secondName))]),s("td",[t._v(t._s(a.personality.firstName))]),s("td",[t._v(t._s(a.personality.middleName))]),t._l(a.attendance,(function(a){return a.lesson===e.id?s("td",{key:a.id},[s("a",[t._v(t._s(a.attendanceMark))])]):t._e()})),t._l(a.attendance,(function(a){return a.lesson===e.id?s("td",{key:a.id},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.attendance_mark,expression:"attendance_mark"}],attrs:{type:"text",name:"attendance_mark"},domProps:{value:t.attendance_mark},on:{input:function(e){e.target.composing||(t.attendance_mark=e.target.value)}}})])]):t._e()})),s("td",[s("form",{on:{submit:function(s){return s.preventDefault(),t.findAttendanceByLessonAndStudent(e,a)}}},[s("input",{staticClass:"btn btn-warning findAttendanceByLessonAndStudent",attrs:{type:"submit",value:"Редактировать"}})])])],2)})),0)])])})),t._l(this.checkpoints,(function(e){return s("div",{key:e.id},[s("table",{staticClass:"table table-bordered"},[t._m(2,!0),s("tbody",[s("h3",[t._v(t._s(e.name))])])]),s("table",{staticClass:"table table-bordered"},[t._m(3,!0),s("tbody",t._l(t.students,(function(a){return s("tr",{key:a.id},[s("td",[t._v(t._s(a.studentCardId))]),s("td",[t._v(t._s(a.personality.secondName))]),s("td",[t._v(t._s(a.personality.firstName))]),s("td",[t._v(t._s(a.personality.middleName))]),t._l(a.scores,(function(a){return a.checkpoint===e.id?s("td",{key:a.id},[s("a",[t._v(t._s(a.scoreMark))])]):t._e()})),t._l(a.scores,(function(a){return a.checkpoint===e.id?s("td",{key:a.id},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.score_mark,expression:"score_mark"}],attrs:{type:"text",name:"score_mark"},domProps:{value:t.score_mark},on:{input:function(e){e.target.composing||(t.score_mark=e.target.value)}}})])]):t._e()})),s("td",[s("form",{on:{submit:function(s){return s.preventDefault(),t.findScoreByLessonAndStudent(e,a)}}},[s("input",{staticClass:"btn btn-warning findScoreByLessonAndStudent",attrs:{type:"submit",value:"Редактировать"}})])])],2)})),0)])])}))],2)},cs=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")]),s("th",{attrs:{scope:"col"}},[t._v("Отметка")]),s("th",{attrs:{scope:"col"}},[t._v("Новая отметка")]),s("th",{attrs:{scope:"col"}},[t._v("Действие")]),s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")]),s("th",{attrs:{scope:"col"}},[t._v("Оценка")]),s("th",{attrs:{scope:"col"}},[t._v("Новая оценка")]),s("th",{attrs:{scope:"col"}},[t._v("Действие")])])}];const ps="https://monitoring-system-back.herokuapp.com/teacher";class ms{getScores(){return b().get(ps+"/allScores",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getAttendances(){return b().get(ps+"/allAttendance",{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getScore(t){return b().get(ps+`/score/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}getAttendance(t){return b().get(ps+`/attendance/${t}`,{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterScores(t,e,s){return b().post(ps+"/filterScores",{id:t,studentId:e,checkpointId:s},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}filterAttendance(t,e,s){return b().post(ps+"/filterAttendance",{id:t,studentId:e,lessonId:s},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editAttendance(t,e){return b().put(ps+`/attendance/${t.id}`,{mark:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}editScore(t,e){return b().put(ps+`/score/${t.id}`,{mark:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}})}}var hs=new ms,_s={name:"TeacherSubjectGroup",data(){return{group_id:this.$route.params.group_id,subject_id:this.$route.params.subject_id,lessons:[],checkpoints:[],students:[],scores:[],attendances:[],group:null,subject:null,attendance_mark:"",score_mark:""}},async mounted(){await this.getGroup()},methods:{getGroup:function(){ye.getGroup(this.group_id).then((t=>{this.group=t.data,console.log("group ",this.group),this.getStudents()}))},getStudents:function(){ye.getStudentsByGroup(this.group_id).then((t=>{this.students=t.data,console.log("students ",this.students),this.getPersonalities()}))},getPersonalities:function(){for(let t of this.students)ce.getPersonality(t.personality).then((e=>{t.personality=e.data}));console.log("students + person",this.students),this.getSubject()},getSubject:function(){ue.getSubject(this.subject_id).then((t=>{this.subject=t.data,console.log("subject: ",this.subject),this.getEvents()}))},getEvents:function(){this.getLessons(),this.getCheckpoints()},getLessons:function(){for(let t of this.subject.lessons)rs.getLesson(t).then((t=>{this.lessons.push(t.data)}));console.log("lessons: ",this.lessons),this.getAttendance()},getCheckpoints:function(){for(let t of this.subject.checkpoints)rs.getCheckpoint(t).then((t=>{this.checkpoints.push(t.data)}));console.log("checkpoints",this.checkpoints),this.getScores()},getAttendance:function(){for(let t of this.students)hs.filterAttendance(null,t.id,null).then((e=>{this.attendances.push(e.data),t.attendance=e.data}));console.log("attendances: ",this.attendances)},getScores:function(){for(let t of this.students)hs.filterScores(null,t.id,null).then((e=>{this.scores.push(e.data),t.scores=e.data}));console.log("scores: ",this.scores)},findAttendanceByLessonAndStudent:function(t,e){hs.filterAttendance(null,e.id,t.id).then((t=>{let e=t.data;this.editAttendanceMark(e[0])}))},editAttendanceMark:function(t){hs.editAttendance(t,this.attendance_mark).then((t=>{this.editStatusResponse=t.data,this.editStatus=this.editStatusResponse?"Отметка успешно изменена":"Не удалось изменить отметку"}))},findScoreByLessonAndStudent:function(t,e){hs.filterScores(null,e.id,t.id).then((t=>{let e=t.data;this.editScoreMark(e[0])}))},editScoreMark:function(t){hs.editScore(t,this.score_mark).then((t=>{this.editStatusResponse=t.data,this.editStatus=this.editStatusResponse?"Отметка успешно изменена":"Не удалось изменить отметку"}))}}},gs=_s,vs=(0,d.Z)(gs,ds,cs,!1,null,"334a4bd0",null),fs=vs.exports,bs=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h2",[t._v("Группа: "+t._s(t.group.name))]),s("table",{staticClass:"table table-bordered"},[t._m(0),s("tbody",t._l(t.students,(function(e){return s("tr",{key:e.id},[s("td",[t._v(t._s(e.studentCardId))]),s("td",[t._v(t._s(e.personality.secondName))]),s("td",[t._v(t._s(e.personality.firstName))]),s("td",[t._v(t._s(e.personality.middleName))])])})),0)])])},ys=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{attrs:{scope:"col"}},[t._v("Номер студенческого билета")]),s("th",{attrs:{scope:"col"}},[t._v("Фамилия")]),s("th",{attrs:{scope:"col"}},[t._v("Имя")]),s("th",{attrs:{scope:"col"}},[t._v("Отчество")])])}],Ss={name:"TeacherGroup",data(){return{personality:null,id:this.$route.params.id,first_name:"",second_name:"",middle_name:"",email:"",students:[],student_card_id:"",group:null,name:""}},async mounted(){await this.getGroup()},methods:{getPersonality:function(t){ce.getPersonality(t.personality).then((t=>{this.personality=t.data}))},getStudents:function(){ye.getStudentsByGroup(this.id).then((t=>{this.students=t.data,this.getPersonalities()}))},getPersonalities:function(){for(let t of this.students)ce.getPersonality(t.personality).then((e=>{t.personality=e.data}));console.log("students + person",this.students),this.getSubject()},getGroup:function(){ye.getGroup(this.id).then((t=>{this.group=t.data,console.log(this.group),this.getStudents()}))}}},ks=Ss,Is=(0,d.Z)(ks,bs,ys,!1,null,"b98346da",null),ws=Is.exports;a.Z.use(S.Z);let js=new S.Z({mode:"history",routes:[{path:"/",name:"home",component:N},{path:"/login",name:"login",component:R},{path:"/admin",name:"admin",component:Dt,meta:{requiresAuth:!0,requiresAdmin:!0},children:[{path:"/admin/personalities",name:"adminPersonalities",component:Ft},{path:"/admin/users",name:"adminUsers",component:M},{path:"/admin/teachers",name:"adminTeachers",component:W},{path:"/admin/students",name:"adminStudents",component:ot},{path:"/admin/groups",name:"adminGroups",component:_t},{path:"/admin/subjects",name:"adminSubjects",component:wt},{path:"/admin/group/:id",name:"adminGroup",component:Pe},{path:"/admin/personalities/:id",name:"adminPerson",component:De},{path:"/admin/subject/:id",name:"adminSubject",component:Fe},{path:"/admin/subject/:subject_id/group/:group_id",name:"adminSubjectGroup",component:ts}]},{path:"/teacher",name:"teacher",component:ae,meta:{requiresAuth:!0},children:[{path:"/teacher/subjects",name:"teacherSubjects",component:_e},{path:"/teacher/groups",name:"teacherGroups",component:we},{path:"/teacher/subject/:id",name:"teacherSubject",component:ls},{path:"/teacher/subject/:subject_id/group/:group_id",name:"teacherSubjectGroup",component:fs},{path:"/teacher/group/:id",name:"teacherGroup",component:ws}]}]});js.beforeEach(((t,e,s)=>{if(t.matched.some((t=>t.meta.requiresAuth))){if(y.getters.isLoggedIn)return void s();s("/login")}else s();if(t.matched.some((t=>t.meta.requiresAdmin))){if(y.getters.isAdmin)return void s();s("/login")}else s()})),js.beforeEach(((t,e,s)=>{if(t.matched.some((t=>t.meta.requiresAdmin))){if(y.getters.isAdmin)return void s();s("/")}else s()}));var As=js;a.Z.prototype.$http=b();const Ns=localStorage.getItem("token");Ns&&(a.Z.prototype.$http.defaults.headers.common.Authorization=Ns),a.Z.config.productionTip=!1,new a.Z({store:y,router:As,render:t=>t(g)}).$mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var r=e[a]={exports:{}};return t[a](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,r){if(!a){var o=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],r=t[d][2];for(var i=!0,u=0;u<a.length;u++)(!1&r||o>=r)&&Object.keys(s.O).every((function(t){return s.O[t](a[u])}))?a.splice(u--,1):(i=!1,r<o&&(o=r));if(i){t.splice(d--,1);var l=n();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=t.length;d>0&&t[d-1][2]>r;d--)t[d]=t[d-1];t[d]=[a,n,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,r,o=a[0],i=a[1],u=a[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(u)var d=u(s)}for(e&&e(a);l<o.length;l++)r=o[l],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(d)},a=self["webpackChunkmonitoring_system_client"]=self["webpackChunkmonitoring_system_client"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(6963)}));a=s.O(a)})();
//# sourceMappingURL=app.86b4118c.js.map